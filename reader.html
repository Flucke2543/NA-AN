<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>NA-AN READER</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="reader-body">
    <a href="index.html" class="back-link-top">← กลับหน้าหลัก</a>
    <h2 id="book-title"class="story-title-top">กำลังเรียกข้อมูล...</h2>    
    <button onclick="toggleFullScreen()" class="back-button-fixed" style="left: 160px;">⛶ ขยายเต็มจอ</button>
    <div class="page-container">  
        <main class="reader-wrapper">
                <div id="viewer-container" class="pdf-box">
                    <p>กรุณารอสักครู่ กำลังดำเนินการ...</p>
                </div>
        </main> </div> <script src="books.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        const book = library[id];

        if (book) {
            document.getElementById('book-title').innerText = book.title;
            // คำสั่ง "ขึง" PDF ลงในช่องว่างที่เราเตรียมไว้
            document.getElementById('viewer-container').innerHTML = 
                ``<iframe src="${book.pdf}#toolbar=1" width="100%" height="100%"style="border:none;></iframe>`;
        } else {
            alert("ไม่พบรหัสนิยาย!");
            window.location.href = "index.html";
        }
        function toggleFullScreen() {
            let elem = document.getElementById("viewer-container");
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.webkitRequestFullscreen) { // สำหรับ Safari
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { // สำหรับ IE/Edge
                elem.msRequestFullscreen();
            }
}
    </script>
</body>
